<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Mapbox Static Map</title>
  </head>
  <body>
    <h1>Mapbox Static Map Example</h1>
    <img src="" id="map-img" alt="Mapbox Static Map">
    <script>
      // JSON data containing GPS coordinates
      const jsonUrl = "https://arrivelah2.busrouter.sg/?id=97039";
      
      // Mapbox access token
      const accessToken = "pk.eyJ1IjoibW9vb2IiLCJhIjoiY2xmNjhmNmU3MWptYzNxbGhqdnNrc3hmYSJ9.y6fr5WQfMHummOjH2y2fHg";
      
      // Get JSON data and extract latitude and longitude
      fetch(jsonUrl)
        .then(response => response.json())
        .then(data => {
          const lat = data.services[0].next.lat;
          const lng = data.services[0].next.lng;
          
          // Construct the map URL
          const mapUrl = `https://api.mapbox.com/styles/v1/mapbox/streets-v11/static/pin-s+ff0000(${lng},${lat})/${lng},${lat},10.5,0/600x400?access_token=${accessToken}`;
          
          // Set the image source to the map URL
          const img = document.getElementById("map-img");
          img.src = mapUrl;
        })
        .catch(error => console.log(error));
    </script>
  </body>
</html>
